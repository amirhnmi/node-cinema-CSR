{"level":"error","message":"login failed login failed","stack":"MongooseError: login failed\n    at module.exports.login (/home/amir/cinema-project/back-node/src/routes/auth/controller.js:43:15)\n    at newFn (/home/amir/cinema-project/back-node/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:30:9)\n    at newFn (/home/amir/cinema-project/back-node/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"errror out errror out","stack":"Error: errror out\n    at Object.<anonymous> (/home/amir/cinema-project/back-node/index.js:25:7)\n    at Module._compile (node:internal/modules/cjs/loader:1159:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1213:10)\n    at Module.load (node:internal/modules/cjs/loader:1037:32)\n    at Module._load (node:internal/modules/cjs/loader:878:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\n    at node:internal/main/run_main_module:23:47"}
{"level":"error","message":"errror out errror out","stack":"Error: errror out\n    at Object.<anonymous> (/home/amir/cinema-project/back-node/index.js:26:7)\n    at Module._compile (node:internal/modules/cjs/loader:1159:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1213:10)\n    at Module.load (node:internal/modules/cjs/loader:1037:32)\n    at Module._load (node:internal/modules/cjs/loader:878:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\n    at node:internal/main/run_main_module:23:47"}
{"level":"error","message":"fgbvdfghbfrghntyhindex fgbvdfghbfrghntyhindex","stack":"Error: fgbvdfghbfrghntyhindex\n    at Object.<anonymous> (/home/amir/cinema-project/back-node/index.js:23:7)\n    at Module._compile (node:internal/modules/cjs/loader:1159:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1213:10)\n    at Module.load (node:internal/modules/cjs/loader:1037:32)\n    at Module._load (node:internal/modules/cjs/loader:878:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\n    at node:internal/main/run_main_module:23:47"}
{"level":"error","message":"ghjghkhjkglhjk ghjghkhjkglhjk","stack":"MongooseError: ghjghkhjkglhjk\n    at module.exports.login (/home/amir/cinema-project/back-node/src/routes/auth/controller.js:43:15)\n    at newFn (/home/amir/cinema-project/back-node/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:30:9)\n    at newFn (/home/amir/cinema-project/back-node/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot destructure property 'username' of 'req.user' as it is undefined. Cannot destructure property 'username' of 'req.user' as it is undefined.","stack":"TypeError: Cannot destructure property 'username' of 'req.user' as it is undefined.\n    at module.exports.postartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:11:16)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"ArtAndExpriensce\" Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"ArtAndExpriensce\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"ArtAndExpriensce\"\n    at model.Query.exec (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:4913:21)\n    at Query.then (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:5012:15)","stringValue":"\"1\"","value":"1","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"ArtAndExpriensce\" Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"ArtAndExpriensce\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"1\" (type string) at path \"_id\" for model \"ArtAndExpriensce\"\n    at model.Query.exec (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:4913:21)\n    at Query.then (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:5012:15)","stringValue":"\"1\"","value":"1","valueType":"string"}
{"_message":"ArtAndExpriensce validation failed","errors":{"actors":{"kind":"required","message":"Path `actors` is required.","name":"ValidatorError","path":"actors","properties":{"message":"Path `actors` is required.","path":"actors","type":"required"}},"description":{"kind":"required","message":"Path `description` is required.","name":"ValidatorError","path":"description","properties":{"message":"Path `description` is required.","path":"description","type":"required"}},"director":{"kind":"required","message":"Path `director` is required.","name":"ValidatorError","path":"director","properties":{"message":"Path `director` is required.","path":"director","type":"required"}},"image":{"kind":"required","message":"Path `image` is required.","name":"ValidatorError","path":"image","properties":{"message":"Path `image` is required.","path":"image","type":"required"}},"movie_name":{"kind":"required","message":"Path `movie_name` is required.","name":"ValidatorError","path":"movie_name","properties":{"message":"Path `movie_name` is required.","path":"movie_name","type":"required"}},"producer":{"kind":"required","message":"Path `producer` is required.","name":"ValidatorError","path":"producer","properties":{"message":"Path `producer` is required.","path":"producer","type":"required"}},"production_date":{"kind":"required","message":"Path `production_date` is required.","name":"ValidatorError","path":"production_date","properties":{"message":"Path `production_date` is required.","path":"production_date","type":"required"}},"release_date":{"kind":"required","message":"Path `release_date` is required.","name":"ValidatorError","path":"release_date","properties":{"message":"Path `release_date` is required.","path":"release_date","type":"required"}},"title":{"kind":"required","message":"Path `title` is required.","name":"ValidatorError","path":"title","properties":{"message":"Path `title` is required.","path":"title","type":"required"}}},"level":"error","message":"ArtAndExpriensce validation failed: movie_name: Path `movie_name` is required., title: Path `title` is required., description: Path `description` is required., image: Path `image` is required., director: Path `director` is required., actors: Path `actors` is required., producer: Path `producer` is required., production_date: Path `production_date` is required., release_date: Path `release_date` is required. ArtAndExpriensce validation failed: movie_name: Path `movie_name` is required., title: Path `title` is required., description: Path `description` is required., image: Path `image` is required., director: Path `director` is required., actors: Path `actors` is required., producer: Path `producer` is required., production_date: Path `production_date` is required., release_date: Path `release_date` is required.","stack":"ValidationError: ArtAndExpriensce validation failed: movie_name: Path `movie_name` is required., title: Path `title` is required., description: Path `description` is required., image: Path `image` is required., director: Path `director` is required., actors: Path `actors` is required., producer: Path `producer` is required., production_date: Path `production_date` is required., release_date: Path `release_date` is required.\n    at Document.invalidate (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:3125:32)\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:2913:17\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/schematype.js:1349:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"ArtAndExpriensce validation failed","errors":{"title":{"kind":"required","message":"Path `title` is required.","name":"ValidatorError","path":"title","properties":{"message":"Path `title` is required.","path":"title","type":"required"}}},"level":"error","message":"ArtAndExpriensce validation failed: title: Path `title` is required. ArtAndExpriensce validation failed: title: Path `title` is required.","stack":"ValidationError: ArtAndExpriensce validation failed: title: Path `title` is required.\n    at Document.invalidate (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:3125:32)\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:2913:17\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/schematype.js:1349:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"ArtAndExpriensce validation failed","errors":{"title":{"kind":"required","message":"Path `title` is required.","name":"ValidatorError","path":"title","properties":{"message":"Path `title` is required.","path":"title","type":"required"}}},"level":"error","message":"ArtAndExpriensce validation failed: title: Path `title` is required. ArtAndExpriensce validation failed: title: Path `title` is required.","stack":"ValidationError: ArtAndExpriensce validation failed: title: Path `title` is required.\n    at Document.invalidate (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:3125:32)\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:2913:17\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/schematype.js:1349:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"ArtAndExpriensce validation failed","errors":{"title":{"kind":"required","message":"Path `title` is required.","name":"ValidatorError","path":"title","properties":{"message":"Path `title` is required.","path":"title","type":"required"}}},"level":"error","message":"ArtAndExpriensce validation failed: title: Path `title` is required. ArtAndExpriensce validation failed: title: Path `title` is required.","stack":"ValidationError: ArtAndExpriensce validation failed: title: Path `title` is required.\n    at Document.invalidate (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:3125:32)\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:2913:17\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/schematype.js:1349:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"ArtAndExpriensce validation failed","errors":{"title":{"kind":"required","message":"Path `title` is required.","name":"ValidatorError","path":"title","properties":{"message":"Path `title` is required.","path":"title","type":"required"}}},"level":"error","message":"ArtAndExpriensce validation failed: title: Path `title` is required. ArtAndExpriensce validation failed: title: Path `title` is required.","stack":"ValidationError: ArtAndExpriensce validation failed: title: Path `title` is required.\n    at Document.invalidate (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:3125:32)\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:2913:17\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/schematype.js:1349:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'findById') Cannot read properties of undefined (reading 'findById')","stack":"TypeError: Cannot read properties of undefined (reading 'findById')\n    at module.exports.getoneartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:13:65)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'find') Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at module.exports.getartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:6:65)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'find') Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at module.exports.getartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:6:65)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'find') Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at module.exports.getartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:6:65)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'find') Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at module.exports.getartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:6:65)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'find') Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at module.exports.getartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:6:66)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'find') Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at module.exports.getartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:6:66)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"mongoose is not defined mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at module.exports.getoneartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:13:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"mongoose is not defined mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at module.exports.getoneartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:13:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'find') Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at module.exports.getartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:7:66)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'find') Cannot read properties of undefined (reading 'find')","stack":"TypeError: Cannot read properties of undefined (reading 'find')\n    at module.exports.getartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:7:66)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"user is not defined user is not defined","stack":"ReferenceError: user is not defined\n    at module.exports.putartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:70:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"63e4c50bd705081b2560e10\" (type string) at path \"_id\" for model \"ArtAndExpriensce\" Cast to ObjectId failed for value \"63e4c50bd705081b2560e10\" (type string) at path \"_id\" for model \"ArtAndExpriensce\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"63e4c50bd705081b2560e10\" (type string) at path \"_id\" for model \"ArtAndExpriensce\"\n    at model.Query.exec (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:4913:21)\n    at Query.then (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:5012:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"63e4c50bd705081b2560e10\"","value":"63e4c50bd705081b2560e10","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"63e4c50bd705081b2560e10\" (type string) at path \"_id\" for model \"ArtAndExpriensce\" Cast to ObjectId failed for value \"63e4c50bd705081b2560e10\" (type string) at path \"_id\" for model \"ArtAndExpriensce\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"63e4c50bd705081b2560e10\" (type string) at path \"_id\" for model \"ArtAndExpriensce\"\n    at model.Query.exec (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:4913:21)\n    at Query.then (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:5012:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"63e4c50bd705081b2560e10\"","value":"63e4c50bd705081b2560e10","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"63e4c50bd705081b2560e10\" (type string) at path \"_id\" for model \"ArtAndExpriensce\" Cast to ObjectId failed for value \"63e4c50bd705081b2560e10\" (type string) at path \"_id\" for model \"ArtAndExpriensce\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"63e4c50bd705081b2560e10\" (type string) at path \"_id\" for model \"ArtAndExpriensce\"\n    at model.Query.exec (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:4913:21)\n    at Query.then (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:5012:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"63e4c50bd705081b2560e10\"","value":"63e4c50bd705081b2560e10","valueType":"string"}
{"level":"error","message":"Cannot read properties of undefined (reading 'status') Cannot read properties of undefined (reading 'status')","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at module.exports.respose (/home/amir/cinema-project/back-node/src/routes/controller.js:36:13)\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:79:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'status') Cannot read properties of undefined (reading 'status')","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at module.exports.respose (/home/amir/cinema-project/back-node/src/routes/controller.js:36:13)\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:85:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of null (reading '$isEmpty') Cannot read properties of null (reading '$isEmpty')","stack":"TypeError: Cannot read properties of null (reading '$isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:85:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of null (reading '$isEmpty') Cannot read properties of null (reading '$isEmpty')","stack":"TypeError: Cannot read properties of null (reading '$isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:85:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of null (reading '$isEmpty') Cannot read properties of null (reading '$isEmpty')","stack":"TypeError: Cannot read properties of null (reading '$isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:85:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of null (reading '$isEmpty') Cannot read properties of null (reading '$isEmpty')","stack":"TypeError: Cannot read properties of null (reading '$isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:85:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of null (reading '$isEmpty') Cannot read properties of null (reading '$isEmpty')","stack":"TypeError: Cannot read properties of null (reading '$isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:86:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of null (reading '$isEmpty') Cannot read properties of null (reading '$isEmpty')","stack":"TypeError: Cannot read properties of null (reading '$isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:86:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of null (reading 'isEmpty') Cannot read properties of null (reading 'isEmpty')","stack":"TypeError: Cannot read properties of null (reading 'isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:86:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"true\" (type boolean) at path \"_id\" for model \"ArtAndExpriensce\" Cast to ObjectId failed for value \"true\" (type boolean) at path \"_id\" for model \"ArtAndExpriensce\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"true\" (type boolean) at path \"_id\" for model \"ArtAndExpriensce\"\n    at model.Query.exec (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:4913:21)\n    at Query.then (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:5012:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"true\"","value":true,"valueType":"boolean"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"true\" (type boolean) at path \"_id\" for model \"ArtAndExpriensce\" Cast to ObjectId failed for value \"true\" (type boolean) at path \"_id\" for model \"ArtAndExpriensce\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"true\" (type boolean) at path \"_id\" for model \"ArtAndExpriensce\"\n    at model.Query.exec (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:4913:21)\n    at Query.then (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:5012:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"true\"","value":true,"valueType":"boolean"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"true\" (type boolean) at path \"_id\" for model \"ArtAndExpriensce\" Cast to ObjectId failed for value \"true\" (type boolean) at path \"_id\" for model \"ArtAndExpriensce\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"true\" (type boolean) at path \"_id\" for model \"ArtAndExpriensce\"\n    at model.Query.exec (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:4913:21)\n    at Query.then (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:5012:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"true\"","value":true,"valueType":"boolean"}
{"level":"error","message":"Cannot read properties of null (reading 'isEmpty') Cannot read properties of null (reading 'isEmpty')","stack":"TypeError: Cannot read properties of null (reading 'isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:86:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"artandexprience_movie.isEmpty is not a function artandexprience_movie.isEmpty is not a function","stack":"TypeError: artandexprience_movie.isEmpty is not a function\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:86:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of null (reading '$isEmpty') Cannot read properties of null (reading '$isEmpty')","stack":"TypeError: Cannot read properties of null (reading '$isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:86:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of null (reading '$isEmpty') Cannot read properties of null (reading '$isEmpty')","stack":"TypeError: Cannot read properties of null (reading '$isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:86:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of null (reading '$isEmpty') Cannot read properties of null (reading '$isEmpty')","stack":"TypeError: Cannot read properties of null (reading '$isEmpty')\n    at module.exports.deleteartandexprience (/home/amir/cinema-project/back-node/src/routes/categories/artandexprience/controller.js:86:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Assignment to constant variable. Assignment to constant variable.","stack":"TypeError: Assignment to constant variable.\n    at module.exports.postchildrenstheater (/home/amir/cinema-project/back-node/src/routes/categories/childrenstheater/controller.js:47:35)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"63e610dc211ba0d0097ed3c\" (type string) at path \"_id\" for model \"childrenstheater\" Cast to ObjectId failed for value \"63e610dc211ba0d0097ed3c\" (type string) at path \"_id\" for model \"childrenstheater\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"63e610dc211ba0d0097ed3c\" (type string) at path \"_id\" for model \"childrenstheater\"\n    at model.Query.exec (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:4913:21)\n    at Query.then (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/query.js:5012:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"63e610dc211ba0d0097ed3c\"","value":"63e610dc211ba0d0097ed3c","valueType":"string"}
{"level":"error","message":"this.ComedyTeater is not a function this.ComedyTeater is not a function","stack":"TypeError: this.ComedyTeater is not a function\n    at module.exports.postcomedytheater (/home/amir/cinema-project/back-node/src/routes/categories/comedytheater/controller.js:34:48)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:41:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"mongoose is not defined mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at module.exports.getonecomedytheater (/home/amir/cinema-project/back-node/src/routes/categories/comedytheater/controller.js:13:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"mongoose is not defined mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at module.exports.getonecomedytheater (/home/amir/cinema-project/back-node/src/routes/categories/comedytheater/controller.js:13:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'findByIdAndRemove') Cannot read properties of undefined (reading 'findByIdAndRemove')","stack":"TypeError: Cannot read properties of undefined (reading 'findByIdAndRemove')\n    at module.exports.deletecomedytheater (/home/amir/cinema-project/back-node/src/routes/categories/comedytheater/controller.js:94:61)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'findByIdAndUpdate') Cannot read properties of undefined (reading 'findByIdAndUpdate')","stack":"TypeError: Cannot read properties of undefined (reading 'findByIdAndUpdate')\n    at module.exports.putcomedytheater (/home/amir/cinema-project/back-node/src/routes/categories/comedytheater/controller.js:63:59)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:41:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"mongoose is not defined mongoose is not defined","stack":"ReferenceError: mongoose is not defined\n    at module.exports.getonescreening (/home/amir/cinema-project/back-node/src/routes/categories/screening/controller.js:13:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"_message":"News validation failed","errors":{"publish_date":{"kind":"required","message":"Path `publish_date` is required.","name":"ValidatorError","path":"publish_date","properties":{"message":"Path `publish_date` is required.","path":"publish_date","type":"required"}}},"level":"error","message":"News validation failed: publish_date: Path `publish_date` is required. News validation failed: publish_date: Path `publish_date` is required.","stack":"ValidationError: News validation failed: publish_date: Path `publish_date` is required.\n    at Document.invalidate (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:3125:32)\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:2913:17\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/schematype.js:1349:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"News validation failed","errors":{"publish_date":{"kind":"required","message":"Path `publish_date` is required.","name":"ValidatorError","path":"publish_date","properties":{"message":"Path `publish_date` is required.","path":"publish_date","type":"required"}}},"level":"error","message":"News validation failed: publish_date: Path `publish_date` is required. News validation failed: publish_date: Path `publish_date` is required.","stack":"ValidationError: News validation failed: publish_date: Path `publish_date` is required.\n    at Document.invalidate (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:3125:32)\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:2913:17\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/schematype.js:1349:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"_message":"News validation failed","errors":{"publish_date":{"kind":"required","message":"Path `publish_date` is required.","name":"ValidatorError","path":"publish_date","properties":{"message":"Path `publish_date` is required.","path":"publish_date","type":"required"}}},"level":"error","message":"News validation failed: publish_date: Path `publish_date` is required. News validation failed: publish_date: Path `publish_date` is required.","stack":"ValidationError: News validation failed: publish_date: Path `publish_date` is required.\n    at Document.invalidate (/home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:3125:32)\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/document.js:2913:17\n    at /home/amir/cinema-project/back-node/node_modules/mongoose/lib/schematype.js:1349:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"}
{"level":"error","message":"theater_movie is not defined theater_movie is not defined","stack":"ReferenceError: theater_movie is not defined\n    at module.exports.deletenews (/home/amir/cinema-project/back-node/src/routes/news/controller.js:92:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"theater_movie is not defined theater_movie is not defined","stack":"ReferenceError: theater_movie is not defined\n    at module.exports.deletenews (/home/amir/cinema-project/back-node/src/routes/news/controller.js:92:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"code":"ERR_HTTP_INVALID_STATUS_CODE","level":"error","message":"Invalid status code: 40 Invalid status code: 40","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: 40\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.writeHead (node:_http_server:343:11)\n    at ServerResponse._implicitHeader (node:_http_server:334:8)\n    at write_ (node:_http_outgoing:867:9)\n    at ServerResponse.end (node:_http_outgoing:977:5)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:232:10)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.register (/home/amir/cinema-project/back-node/src/routes/auth/controller.js:11:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"code":11000,"index":0,"keyPattern":{"phone_number":1},"keyValue":{"phone_number":"09056052008"},"level":"error","message":"E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" } E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" }","stack":"MongoServerError: E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" }\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/sdam/server.js:212:17\n    at handleOperationResult (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/sdam/server.js:328:20)\n    at Connection.onMessage (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection.js:239:9)\n    at MessageStream.<anonymous> (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection.js:60:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)"}
{"code":"ERR_HTTP_INVALID_STATUS_CODE","level":"error","message":"Invalid status code: 40 Invalid status code: 40","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: 40\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.writeHead (node:_http_server:343:11)\n    at ServerResponse._implicitHeader (node:_http_server:334:8)\n    at write_ (node:_http_outgoing:867:9)\n    at ServerResponse.end (node:_http_outgoing:977:5)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:232:10)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.register (/home/amir/cinema-project/back-node/src/routes/auth/controller.js:11:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"code":11000,"index":0,"keyPattern":{"phone_number":1},"keyValue":{"phone_number":"09056052008"},"level":"error","message":"E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" } E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" }","stack":"MongoServerError: E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" }\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/sdam/server.js:212:17\n    at handleOperationResult (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/sdam/server.js:328:20)\n    at Connection.onMessage (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection.js:239:9)\n    at MessageStream.<anonymous> (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection.js:60:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)"}
{"code":11000,"index":0,"keyPattern":{"phone_number":1},"keyValue":{"phone_number":"09056052008"},"level":"error","message":"E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" } E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" }","stack":"MongoServerError: E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" }\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/sdam/server.js:212:17\n    at handleOperationResult (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/sdam/server.js:328:20)\n    at Connection.onMessage (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection.js:239:9)\n    at MessageStream.<anonymous> (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection.js:60:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)"}
{"code":11000,"index":0,"keyPattern":{"phone_number":1},"keyValue":{"phone_number":"09056052008"},"level":"error","message":"E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" } E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" }","stack":"MongoServerError: E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"09056052008\" }\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/sdam/server.js:212:17\n    at handleOperationResult (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/sdam/server.js:328:20)\n    at Connection.onMessage (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection.js:239:9)\n    at MessageStream.<anonymous> (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection.js:60:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)"}
{"code":11000,"index":0,"keyPattern":{"phone_number":1},"keyValue":{"phone_number":"01142351136"},"level":"error","message":"E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"01142351136\" } E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"01142351136\" }","stack":"MongoServerError: E11000 duplicate key error collection: cinematicket.users index: phone_number_1 dup key: { phone_number: \"01142351136\" }\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/operations/insert.js:53:33\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection_pool.js:333:25\n    at /home/amir/cinema-project/back-node/node_modules/mongodb/lib/sdam/server.js:212:17\n    at handleOperationResult (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/sdam/server.js:328:20)\n    at Connection.onMessage (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection.js:239:9)\n    at MessageStream.<anonymous> (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/connection.js:60:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/message_stream.js:125:16)\n    at MessageStream._write (/home/amir/cinema-project/back-node/node_modules/mongodb/lib/cmap/message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at isLoggedIn (/home/amir/cinema-project/back-node/src/middleware/auth.js:15:25)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:328:13)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.dashboard (/home/amir/cinema-project/back-node/src/routes/admin/controller.js:7:18)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.dashboard (/home/amir/cinema-project/back-node/src/routes/admin/controller.js:7:18)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.dashboard (/home/amir/cinema-project/back-node/src/routes/admin/controller.js:7:18)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.dashboard (/home/amir/cinema-project/back-node/src/routes/admin/controller.js:7:18)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.dashboard (/home/amir/cinema-project/back-node/src/routes/admin/controller.js:7:18)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.dashboard (/home/amir/cinema-project/back-node/src/routes/admin/controller.js:7:18)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.dashboard (/home/amir/cinema-project/back-node/src/routes/admin/controller.js:7:18)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.dashboard (/home/amir/cinema-project/back-node/src/routes/admin/controller.js:7:18)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Cannot set headers after they are sent to the client Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:393:5)\n    at ServerResponse.setHeader (node:_http_outgoing:644:11)\n    at ServerResponse.header (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/amir/cinema-project/back-node/node_modules/express/lib/response.js:278:15)\n    at module.exports.response (/home/amir/cinema-project/back-node/src/routes/controller.js:54:26)\n    at module.exports.dashboard (/home/amir/cinema-project/back-node/src/routes/admin/controller.js:8:18)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)"}
{"level":"error","message":"mkdir is not a function mkdir is not a function","stack":"TypeError: mkdir is not a function\n    at DiskStorage.destination [as getDestination] (/home/amir/cinema-project/back-node/src/upload/upload_file.js:6:5)\n    at DiskStorage._handleFile (/home/amir/cinema-project/back-node/node_modules/multer/storage/disk.js:31:8)\n    at /home/amir/cinema-project/back-node/node_modules/multer/lib/make-middleware.js:137:17\n    at allowAll (/home/amir/cinema-project/back-node/node_modules/multer/index.js:8:3)\n    at wrappedFileFilter (/home/amir/cinema-project/back-node/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/home/amir/cinema-project/back-node/node_modules/multer/lib/make-middleware.js:107:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/home/amir/cinema-project/back-node/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/home/amir/cinema-project/back-node/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/home/amir/cinema-project/back-node/node_modules/busboy/lib/types/multipart.js:394:37)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'id') Cannot read properties of undefined (reading 'id')","stack":"TypeError: Cannot read properties of undefined (reading 'id')\n    at module.exports.theaterUpload (/home/amir/cinema-project/back-node/src/routes/upload/controller.js:12:57)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"movie_name is not defined movie_name is not defined","stack":"ReferenceError: movie_name is not defined\n    at module.exports.theaterUpload (/home/amir/cinema-project/back-node/src/routes/upload/controller.js:8:56)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at module.exports.posttheater (/home/amir/cinema-project/back-node/src/routes/categories/theater/controller.js:40:47)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:50:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'path') Cannot read properties of undefined (reading 'path')","stack":"TypeError: Cannot read properties of undefined (reading 'path')\n    at module.exports.posttheater (/home/amir/cinema-project/back-node/src/routes/categories/theater/controller.js:40:47)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:50:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Upload is not defined Upload is not defined","stack":"ReferenceError: Upload is not defined\n    at module.exports.posttheater (/home/amir/cinema-project/back-node/src/routes/categories/theater/controller.js:35:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:50:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Upload is not defined Upload is not defined","stack":"ReferenceError: Upload is not defined\n    at module.exports.posttheater (/home/amir/cinema-project/back-node/src/routes/categories/theater/controller.js:35:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:50:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"multer is not defined multer is not defined","stack":"ReferenceError: multer is not defined\n    at /home/amir/cinema-project/back-node/src/routes/categories/theater/controller.js:36:31\n    at multerMiddleware (/home/amir/cinema-project/back-node/node_modules/multer/lib/make-middleware.js:13:41)\n    at module.exports.posttheater (/home/amir/cinema-project/back-node/src/routes/categories/theater/controller.js:35:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:50:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at module.exports.posttheater (/home/amir/cinema-project/back-node/src/routes/categories/theater/controller.js:52:47)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:50:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at module.exports.posttheater (/home/amir/cinema-project/back-node/src/routes/categories/theater/controller.js:54:47)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:50:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at module.exports.posttheater (/home/amir/cinema-project/back-node/src/routes/categories/theater/controller.js:52:47)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at module.exports.validate (/home/amir/cinema-project/back-node/src/routes/controller.js:50:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at middleware (/home/amir/cinema-project/back-node/node_modules/express-validator/src/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
{"level":"error","message":"upload is not defined upload is not defined","stack":"ReferenceError: upload is not defined\n    at module.exports.screeningimageupload (/home/amir/cinema-project/back-node/src/routes/categories/screening/controller.js:56:9)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:144:13)\n    at Route.dispatch (/home/amir/cinema-project/back-node/node_modules/express/lib/router/route.js:114:3)\n    at Layer.handle [as handle_request] (/home/amir/cinema-project/back-node/node_modules/express/lib/router/layer.js:95:5)\n    at /home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/amir/cinema-project/back-node/node_modules/express/lib/router/index.js:47:12)"}
{"level":"error","message":"multer is not defined multer is not defined","stack":"ReferenceError: multer is not defined\n    at /home/amir/cinema-project/back-node/src/routes/categories/screening/controller.js:58:31\n    at done (/home/amir/cinema-project/back-node/node_modules/multer/lib/make-middleware.js:45:7)\n    at indicateDone (/home/amir/cinema-project/back-node/node_modules/multer/lib/make-middleware.js:49:68)\n    at /home/amir/cinema-project/back-node/node_modules/multer/lib/make-middleware.js:155:11\n    at WriteStream.<anonymous> (/home/amir/cinema-project/back-node/node_modules/multer/storage/disk.js:43:9)\n    at WriteStream.emit (node:events:525:35)\n    at finish (node:internal/streams/writable:748:10)\n    at finishMaybe (node:internal/streams/writable:733:9)\n    at afterWrite (node:internal/streams/writable:507:3)\n    at onwrite (node:internal/streams/writable:480:7)"}
